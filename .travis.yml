language: python
python:
- '3.6'
install:
- pip install ansible>=2.4.0 molecule apache-libcloud paramiko
script:
- molecule test --scenario-name gce_test
env:
  matrix:
  - GCE_CREDENTIALS_FILE="$(pwd)/travis_gcp_key.json"
  global:
  - secure: vUztOAOEU7a5dG/9yi1gaRsKd/ZEwluaheHg0vHuhlJO+/iPcdhmdnG+2zMcyV+DnU/f6rvp5Yj+KhgUmN2wpal/AkI+wzgTNUIKjUBLu4WDUz5H7HPNX1CJdWgD28u15mOSC9p6D2Ei+rCABty517urz5LDr2o5/lN1tJDIAzE0eqz/8vv/aqqTOuM2fJz5Z7ovZEtGan4VXpKwpjSTnI89SZGEmhNir6TmYM1AM9PU12YXlGfV+CSAXYMy6vGc70uGtMzh4cf9hMNtxuNoo2MHtdWtiV56DGTJ/cZrCqBuDquHamGahoq1FeL897E9dIdfpdErlQm5eCXPBXr1lfjxnmR91dsxqM6G4tBuQiBbVxPAl1K4hKrNxOwnbiqM9PKYwyZLzO8chc5puE0ooqehCbqcm3/AmcWpui9JyOwVYnO73FvmlyJ3wzJdwaGOoKu2T6x8p2hHlW1pItm30Z0/dDlUqNSxOgwYnVDI7Czm9TXrjlpBa0/amt1vvyqrpaCULQr6EiCFCMZj8TgUtTrjCYcs6f+hAhhmOekNFZNMLoaavlBmtjco+KErcQfUcAcFq2jjhGCGQk9vWM3/d44MLdVT31lJOGNLogiWElGK6fugNI89UTVImpLCEQT5uQ7pYhIS+dUKjSRE7N2hXKXSvTspisSyxTNu1NQ5VDY=
  - secure: tNpX4VFOWYwt4X5PFe7DaVpuPKjq4NyxpC0483BLoIAYES4Scf0kevUY1TyFiXlVL4kS256kQMAzE3FDM1yP09TJmdHC0RYnGZLLzj50avABE+N+dwodUaRThFqD6uh/JtQ/Pa5bH+2RWbKJZhgIsNToblK3aTb0yrxAZ4DJKbNgnjIasjgzDZUgoHT04iwc+cT5e+6wx3YxlQtdxDkTGjoLQ06k/ahI7esFXhXNZ53KaIXttgHFjjbFmkVqzE1tS9Xdjbq1Gk9ICZSixadd2T2v+W1lHD4CbMuFcqoWisNBZc7tDDjX2w4192n1YiJay/91WhH9qrtmij9+pg7iXaSBJ52b75thvLpml7f3BowlVFZwzHQnccusoVHL0OzrHDmA9IbjloQoZ65L8Vj1NtG1l2u5J2IlDiedaC2Im6ukgjnLQ9Khc6sk0wCq0RuNkIydCY5p92vy+3X6t73SfVn+V3fq6T5pC5Y4JbyYQIuht5g59BzKNpaW5jx7VlcS4+5MXGABmOLy0PV3v5Czb7A5d6fTvZAynm+ZIYHtVHtQZf8oDsX4wsGNDXBQLRM8lG6Vh6dLoStEYcfyNlIgYmUyHbptK3ODZaUnHC4UiuakQOuDwjynYNeplD4nAQREbHzeMA9gEFcyHExzU9gLPHC1Gk8HA0sfYJkSTerZs7Q=
  - secure: 2EGM8jZcqj5OI70q+h9PMLGj6yfJ7thBdvNicnnQk9VxB1mjRQTRxtwupUEG1biFyOSCk2tAqr24qcpCp1BA5RtAJ/RKJVGyl0QEW6FQUNQbu7As2g14dRh+78TVLm06HVg3HUywGkJGr8Ybm3RLuyshTOcYNZsnHOXiPHpPoU+pEn5hOYBnsdVGK2+aYMLKHNY5szzl3/cSfSDXUjB3cVO7Jvf7WNTvFeP6UiC+EbgIkzP/L1RTWqSw4GdotxKCk2v8MKqdUjLdLyDN/O5KN0ISILDux0YSw+Up6nuh/lS3c8lCoQa23SO6LrDDLwJyw3C/yqni2k9ds2aTGoXp69X6zAIuZFTWS42nu82mXmIygvK6WxtE5RJz10dFV5Si+uuu1ABVohfWZFZ2rlN8j3sMYN+DX8oYzzPvxtoXJWV+vPDMmrWvpyKYczSgiOSedaOmXlUS7gjXsxTlalaWPa8KJkpcvkDH3XoDU1gO0lOn0MQ2tq8EeuLpK7yFFqIaskyRrdSCcxf2Qx3uqCxmnCApfrI4s8GZkXeysUPI2pWFQwkRPoTobj8yJOb9H2xbIBOFzpgmf+M6bFNPpqC33GgpjvBcU8z6qbu0Bx8n/cEKf+EKy/Bk9ZhfCwp7I9qYjsz8QrVcFJfUO22aw+rbiGfMVzhQMW6CV7zGXndVI1w=
before_install:
- openssl aes-256-cbc -K $encrypted_804f08fbb565_key -iv $encrypted_804f08fbb565_iv
  -in secrets.tar.enc -out secrets.tar -d
- tar xvf secrets.tar
- mv google_compute_engine /home/travis/.ssh/
- chmod 0600 /home/travis/.ssh/google_compute_engine
notifications:
  slack:
    rooms:
      secure: TlPVB0iGLfI5amK+NZt81FhggitRhVHY4Y/QT+9fgFOAa67bRhyfbEqCaMlTwt/XXX2q5JMWz6FdJ9F+NFcFfZ0NlIEOYxKpRUvqDM1CYFdki6CNyGOBbyueTqAnS3F7cRg+18FeuIG/1+9cN5a16o4D0IsBu3g7+W9RgKEjgaDlCMaMG2Z4pVPRrqi9Z5quyzuYpGTb0QyeJhTMACheIU7CmIeaVgXbmGyXWKyhd4mZYFXUy65g3ClVdY0xtK1gnuLf59mtRkSWvjg6Tg48bK6lXrjCQwc7QH5tBR45K7OFcJWquvF0hIgouyEKKIzEL7+DS++NDRAmrxFZjM074IKWwqIqPuccpf/tNv6pCMEVl7b/nz5wUKRnMrDElOvEovKkxhKBnZbcFYlR1xL38TlgriJPx/cRwlTrLlmzxGYHFBbtdc8ZVfsHEZbMemPqJCR1DoMxRYY2Q6MoWpQA7my0w+COJpZfidQLJ+USr7RY+TQAWUp9IJGLtuewS2SRYV9V1OXtp6tbRaOXJ/6Ay3035GERbL6tYNRHMz8i1mKIxNKCIaW8gyRrase759t9gh7bwyQmo5XjHAO1faigYXE9h4S9NYBdXfJ844BjcL5jOeLWqnkQUUEyMcmKJzELOipocyVccn6Sab430WL7WbPmj6MARvdGT+yvu1lF3R4=
